<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MacMatlox Studio | Bookings & Appointments</title>
    
    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    
    <style>
        :root {
            --dark-slate: #1a252f;
            --slate-dark: #0d1824;
            --slate-medium: #2c3e50;
            --slate-light: #34495e;
            --yellow: #FFD700;
            --yellow-dark: #FFC107;
            --yellow-light: #FFE44D;
            --success: #27ae60;
            --error: #e74c3c;
            --warning: #f39c12;
            --white: #ffffff;
            --off-white: #ecf0f1;
            --gray-light: #7f8c8d;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            --radius: 12px;
            --transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            line-height: 1.6;
            color: var(--off-white);
            background: var(--dark-slate);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header */
        #main-header {
            background: rgba(13, 24, 36, 0.95);
            backdrop-filter: blur(10px);
            padding: 1.2rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 215, 0, 0.1);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo span {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--yellow);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        /* Hero Section */
        .hero-section {
            background: linear-gradient(135deg, var(--slate-dark) 0%, var(--dark-slate) 100%);
            padding: 80px 0 60px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="1.2" fill="%23FFD700" fill-opacity="0.05"/></svg>');
            background-size: 100px;
        }
        
        .hero-title {
            font-size: 3.2rem;
            font-weight: 800;
            margin-bottom: 20px;
            line-height: 1.2;
            background: linear-gradient(90deg, var(--yellow) 0%, var(--yellow-light) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .hero-subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto 40px;
            color: var(--off-white);
            font-weight: 300;
        }
        
        /* Admin Access Button (Hidden by default) */
        #adminAccessBtn {
            position: fixed;
            top: 100px;
            right: -60px;
            background: var(--yellow);
            color: var(--dark-slate);
            border: none;
            border-radius: 30px 0 0 30px;
            padding: 12px 20px 12px 30px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            transition: var(--transition);
            z-index: 999;
            box-shadow: -4px 0 15px rgba(255, 215, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        #adminAccessBtn:hover {
            right: 0;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }
        
        /* Admin Panel (Hidden by default) */
        #adminPanel {
            position: fixed;
            top: 150px;
            right: -500px;
            width: 450px;
            height: calc(100vh - 180px);
            background: var(--slate-dark);
            border-radius: 15px 0 0 15px;
            box-shadow: -10px 0 40px rgba(0, 0, 0, 0.7);
            z-index: 998;
            transition: var(--transition);
            overflow-y: auto;
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-right: none;
        }
        
        #adminPanel.active {
            right: 0;
        }
        
        /* Admin Panel Styles */
        .admin-panel-content {
            padding: 30px;
        }
        
        .admin-header {
            color: var(--yellow);
            margin-bottom: 25px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255, 215, 0, 0.2);
        }
        
        .close-admin {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: var(--yellow);
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .close-admin:hover {
            transform: rotate(90deg);
        }
        
        /* Booking Form Card */
        .booking-card {
            background: var(--slate-medium);
            backdrop-filter: blur(10px);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 40px;
            transition: var(--transition);
            border: 1px solid rgba(255, 215, 0, 0.1);
            max-width: 800px;
            margin: -40px auto 60px;
        }
        
        .booking-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
            border-color: var(--yellow);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(255, 215, 0, 0.2);
        }
        
        .card-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--yellow);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* Calendar Section */
        .calendar-container {
            margin-bottom: 30px;
        }
        
        .flatpickr-calendar {
            background: var(--slate-dark) !important;
            border: 1px solid rgba(255, 215, 0, 0.2) !important;
            box-shadow: var(--shadow) !important;
        }
        
        .flatpickr-day {
            color: var(--off-white) !important;
            border: 1px solid transparent !important;
        }
        
        .flatpickr-day.selected {
            background: var(--yellow) !important;
            color: var(--dark-slate) !important;
            font-weight: 700;
        }
        
        .flatpickr-day.disabled {
            color: var(--gray-light) !important;
            background: rgba(231, 76, 60, 0.1) !important;
            text-decoration: line-through;
        }
        
        /* Time Slots */
        .time-slots-container {
            margin: 30px 0;
        }
        
        .time-slots-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 12px;
            margin-top: 15px;
        }
        
        .time-slot {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }
        
        .time-slot:hover {
            background: rgba(255, 215, 0, 0.2);
            border-color: var(--yellow);
        }
        
        .time-slot.selected {
            background: var(--yellow);
            color: var(--dark-slate);
            border-color: var(--yellow);
            font-weight: 700;
        }
        
        .time-slot.disabled {
            opacity: 0.4;
            cursor: not-allowed;
            background: rgba(231, 76, 60, 0.1);
            border-color: rgba(231, 76, 60, 0.3);
        }
        
        /* Form Styles */
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 25px 0;
        }
        
        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group.full-width {
            grid-column: 1 / -1;
        }
        
        label {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--yellow-light);
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .required::after {
            content: '*';
            color: var(--error);
            margin-left: 4px;
        }
        
        input, select, textarea {
            padding: 16px;
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 10px;
            font-size: 1rem;
            transition: var(--transition);
            background: rgba(13, 24, 36, 0.5);
            color: var(--white);
            font-family: 'Inter', sans-serif;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--yellow);
            box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.1);
        }
        
        textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        /* Hidden form inputs for Web3Forms */
        .hidden-inputs {
            display: none;
        }
        
        /* Service Selection */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .service-option {
            background: rgba(255, 215, 0, 0.05);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }
        
        .service-option:hover {
            background: rgba(255, 215, 0, 0.1);
            border-color: rgba(255, 215, 0, 0.4);
        }
        
        .service-option.selected {
            background: rgba(255, 215, 0, 0.15);
            border-color: var(--yellow);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.2);
        }
        
        .service-icon {
            font-size: 2rem;
            color: var(--yellow);
            margin-bottom: 10px;
        }
        
        /* Buttons */
        .btn {
            display: inline-block;
            background: linear-gradient(135deg, var(--yellow) 0%, var(--yellow-dark) 100%);
            color: var(--dark-slate);
            border: none;
            padding: 18px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            text-decoration: none;
            width: 100%;
            margin-top: 20px;
            box-shadow: 0 4px 20px rgba(255, 215, 0, 0.3);
            font-family: 'Inter', sans-serif;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(255, 215, 0, 0.5);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .btn-secondary {
            background: var(--slate-light);
            color: var(--white);
        }
        
        .btn-danger {
            background: var(--error);
            color: var(--white);
        }
        
        /* Admin Panel Sections */
        .blocked-dates-container {
            margin: 20px 0;
        }
        
        .blocked-dates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 10px;
            margin-top: 15px;
            max-height: 200px;
            overflow-y: auto;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
        }
        
        .blocked-date {
            background: rgba(231, 76, 60, 0.1);
            border: 1px solid rgba(231, 76, 60, 0.3);
            border-radius: 8px;
            padding: 10px;
            text-align: center;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
        }
        
        .remove-date {
            color: var(--error);
            cursor: pointer;
            background: none;
            border: none;
            font-size: 1rem;
        }
        
        /* Email Templates */
        .email-templates {
            margin-top: 30px;
        }
        
        .email-template {
            background: rgba(39, 174, 96, 0.1);
            border: 1px solid rgba(39, 174, 96, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .email-template h4 {
            color: var(--success);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .email-content {
            background: rgba(13, 24, 36, 0.5);
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            white-space: pre-wrap;
            font-family: monospace;
            font-size: 0.9rem;
            max-height: 200px;
            overflow-y: auto;
        }
        
        /* Success Message */
        .success-message {
            background: linear-gradient(135deg, rgba(39, 174, 96, 0.2) 0%, rgba(39, 174, 96, 0.1) 100%);
            border: 1px solid rgba(39, 174, 96, 0.3);
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            margin: 20px 0;
            animation: fadeIn 0.5s ease;
        }
        
        .success-icon {
            font-size: 4rem;
            color: var(--success);
            margin-bottom: 20px;
            animation: partyHorn 0.5s ease 3;
        }
        
        /* Error Message */
        .error-message {
            background: linear-gradient(135deg, rgba(231, 76, 60, 0.2) 0%, rgba(231, 76, 60, 0.1) 100%);
            border: 1px solid rgba(231, 76, 60, 0.3);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            margin: 20px 0;
            color: var(--error);
        }
        
        /* Footer */
        .footer {
            background: rgba(13, 24, 36, 0.95);
            padding: 60px 0 40px;
            margin-top: 80px;
            border-top: 1px solid rgba(255, 215, 0, 0.1);
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-section h3 {
            color: var(--yellow);
            margin-bottom: 20px;
            font-size: 1.3rem;
        }
        
        .footer-section p {
            color: var(--off-white);
            opacity: 0.8;
            line-height: 1.7;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 10px;
        }
        
        .footer-links a {
            color: var(--off-white);
            text-decoration: none;
            opacity: 0.8;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .footer-links a:hover {
            opacity: 1;
            color: var(--yellow);
            transform: translateX(5px);
        }
        
        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            gap: 12px;
            color: var(--off-white);
            opacity: 0.8;
        }
        
        .contact-item i {
            color: var(--yellow);
            width: 20px;
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 215, 0, 0.1);
            color: var(--off-white);
            opacity: 0.6;
            font-size: 0.9rem;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes partyHorn {
            0% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(15deg) scale(1.1); }
            75% { transform: rotate(-15deg) scale(1.1); }
            100% { transform: rotate(0deg) scale(1); }
        }
        
        /* Loading Spinner */
        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 215, 0, 0.3);
            border-radius: 50%;
            border-top-color: var(--yellow);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.2rem;
            }
            
            .hero-subtitle {
                font-size: 1.1rem;
            }
            
            .booking-card {
                padding: 25px;
                margin-top: 20px;
            }
            
            .time-slots-grid {
                grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            }
            
            #adminPanel {
                width: 100%;
                height: 100vh;
                top: 0;
                right: -100%;
                border-radius: 0;
            }
            
            #adminAccessBtn {
                top: 80px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header id="main-header">
        <div class="logo">
            <span>MacMatlox Studio</span>
        </div>
        <nav>
            <a href="https://obrey-matlou.github.io/MacMatloxStudio_Website/Index.html" style="background: linear-gradient(135deg, var(--yellow) 0%, var(--yellow-dark) 100%); 
               color: var(--dark-slate); padding: 0.6rem 1.5rem; border-radius: 6px; font-weight: 600;">
             Home page
            </a>
        </nav>
    </header>
    
    <!-- Admin Access Button (Floating) -->
    <button id="adminAccessBtn" title="Admin Access">
        <i class="fas fa-lock"></i> Admin
    </button>
    
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <h1 class="hero-title">MacMatlox Studio Booking System</h1>
            <p class="hero-subtitle">
                üö® Don't Miss Out! Secure Your MacMatlox Studio Slot Today. Ready in 30 Seconds. Book Your MacMatlox Studio Session.
            </p>
        </div>
    </section>
    
    <!-- Main Booking Section -->
    <main class="container">
        <div class="booking-card">
            <div class="card-header">
                <h2 class="card-title">
                    <i class="fas fa-calendar-plus"></i> Book Appointment
                </h2>
                <div class="status-indicator status-pending">
                    <i class="fas fa-clock"></i> Select Date & Time
                </div>
            </div>
            
            <!-- Service Selection -->
            <div class="services-grid">
                <div class="service-option selected" data-service="talent-management">
                    <div class="service-icon">
                        <i class="fas fa-headphones"></i>
                    </div>
                    <h4 style="color: yellow;">Talent Management</h4>
                    <p>Events & Promotion & Branding, Career Development, Networking</p>
                </div>
                
                <div class="service-option" data-service="internet-cafe">
                    <div class="service-icon">
                        <i class="fas fa-wifi"></i>
                    </div>
                    <h4 style="color: yellow;">Internet Cafe</h4>
                    <p>Work, Professional typing CV, Printing/Scanning, IT help</p>
                </div>
                
                <div class="service-option" data-service="digital-solution">
                    <div class="service-icon">
                        <i class="fas fa-print"></i>
                    </div>
                    <h4 style="color: yellow;">Digital Solution</h4>
                    <p>Digital Marketing Websites, Graphic Design, Printing & Branding</p>
                </div>
            </div>
            
            <!-- Calendar -->
            <div class="calendar-container">
                <h3 style="margin: 25px 0 15px; color: var(--yellow-light);">
                    <i class="fas fa-calendar-day"></i> Select Date
                </h3>
                <input type="text" id="datePicker" placeholder="Click to select date" style="width: 100%;">
            </div>
            
            <!-- Time Slots -->
            <div class="time-slots-container">
                <h3 style="margin: 25px 0 15px; color: var(--yellow-light);">
                    <i class="fas fa-clock"></i> Available Time Slots
                </h3>
                <div class="time-slots-grid" id="timeSlots">
                    <!-- Time slots will be generated dynamically -->
                </div>
            </div>
            
            <!-- Appointment Details Form with Web3Forms -->
            <form id="appointmentForm" action="https://api.web3forms.com/submit" method="POST">
                <!-- Web3Forms Required Fields -->
                <input type="hidden" name="access_key" value="d5e50bc8-d07c-4ecb-a7c8-a2d5fc26b670">
                <input type="hidden" name="subject" value="New Booking - MacMatlox Studio">
                <input type="hidden" name="from_name" value="MacMatlox Studio Booking System">
                <input type="checkbox" name="botcheck" style="display: none;">
                
                <!-- Hidden fields for form data -->
                <div class="hidden-inputs">
                    <input type="hidden" id="hiddenDate" name="appointment_date">
                    <input type="hidden" id="hiddenTime" name="appointment_time">
                    <input type="hidden" id="hiddenService" name="service_type">
                    <input type="hidden" id="hiddenBookingId" name="booking_id">
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="fullName" class="required">
                            <i class="fas fa-user"></i> Full Name
                        </label>
                        <input type="text" id="fullName" name="full_name" required placeholder="Enter your full name">
                    </div>
                    
                    <div class="form-group">
                        <label for="email" class="required">
                            <i class="fas fa-envelope"></i> Email Address
                        </label>
                        <input type="email" id="email" name="email" required placeholder="you@example.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="phone" class="required">
                            <i class="fas fa-phone"></i> Phone Number
                        </label>
                        <input type="tel" id="phone" name="phone" required placeholder="+27 82 123 4567">
                    </div>
                    
                    <div class="form-group">
                        <label for="duration">
                            <i class="fas fa-hourglass-half"></i> Duration
                        </label>
                        <select id="duration" name="duration">
                            <option value="1">1 hour - R50</option>
                            <option value="2" selected>2 hours - R90</option>
                            <option value="3">3 hours - R130</option>
                            <option value="4">4 hours - R170</option>
                            <option value="8">Full Day (8hrs) - R320</option>
                        </select>
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="notes">
                            <i class="fas fa-sticky-note"></i> Additional Notes
                        </label>
                        <textarea id="notes" name="notes" placeholder="Any specific requirements or equipment needed?"></textarea>
                    </div>
                </div>
                
                <!-- Email Preferences -->
                <div style="margin: 20px 0; padding: 20px; background: rgba(255, 215, 0, 0.05); border-radius: 10px;">
                    <h4 style="color: var(--yellow); margin-bottom: 10px;">
                        <i class="fas fa-envelope-open-text"></i> Email Preferences
                    </h4>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <input type="checkbox" id="emailConfirmation" name="email_confirmation" checked>
                        <label for="emailConfirmation" style="font-weight: normal; cursor: pointer;">
                            Send confirmation email with appointment details
                        </label>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px; margin-top: 10px;">
                        <input type="checkbox" id="reminderEmail" name="reminder_email" checked>
                        <label for="reminderEmail" style="font-weight: normal; cursor: pointer;">
                            Send reminder 24 hours before appointment
                        </label>
                    </div>
                </div>
                
                <button type="submit" class="btn" id="submitBtn">
                    <i class="fas fa-calendar-check"></i> Confirm Appointment
                </button>
                
                <!-- Web3Forms Success/Error Messages -->
                <div id="web3forms-result" style="display: none;"></div>
            </form>
            
            <!-- Success Message -->
            <div id="successMessage" class="success-message" style="display: none;">
                <div class="success-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h3 style="font-size: 1.8rem; margin-bottom: 15px; color: var(--success);">
                    Appointment Confirmed!
                </h3>
                <p style="margin-bottom: 10px; color: var(--off-white);">
                    Your appointment has been scheduled successfully.
                </p>
                <p style="margin-bottom: 20px; color: var(--off-white);">
                    Check your email for confirmation and appointment details.
                </p>
                <div style="background: rgba(13, 24, 36, 0.3); padding: 15px; border-radius: 10px; margin: 20px 0;">
                    <p style="margin: 8px 0; color: var(--yellow-light);">
                        <i class="fas fa-calendar-alt"></i> 
                        <span id="confirmedDate">Date not set</span>
                    </p>
                    <p style="margin: 8px 0; color: var(--yellow-light);">
                        <i class="fas fa-clock"></i> 
                        <span id="confirmedTime">Time not set</span>
                    </p>
                    <p style="margin: 8px 0; color: var(--yellow-light);">
                        <i class="fas fa-headphones"></i> 
                        <span id="confirmedService">Service not selected</span>
                    </p>
                    <p style="margin: 8px 0; color: var(--yellow-light);">
                        <i class="fas fa-id-badge"></i> 
                        <span id="confirmedBookingId">Booking ID: Not assigned</span>
                    </p>
                </div>
                <button class="btn" onclick="window.location.reload()" style="margin-top: 20px; background: var(--slate-medium); color: var(--white);">
                    <i class="fas fa-plus-circle"></i> Book Another Appointment
                </button>
            </div>
        </div>
    </main>
    
    <!-- Admin Panel (Hidden by default) -->
    <div id="adminPanel">
        <button class="close-admin" id="closeAdminPanel">
            <i class="fas fa-times"></i>
        </button>
        
        <div class="admin-panel-content">
            <h2 class="admin-header">
                <i class="fas fa-cog"></i> Admin Management Panel
            </h2>
            
            <!-- Admin Login -->
            <div id="adminLogin" style="margin-bottom: 30px;">
                <h4 style="color: var(--yellow); margin-bottom: 15px;">
                    <i class="fas fa-lock"></i> Admin Login
                </h4>
                <input type="password" id="adminPassword" placeholder="Enter admin password" style="width: 100%; margin-bottom: 10px;">
                <button class="btn btn-secondary" id="loginBtn" style="margin-top: 10px;">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
            </div>
            
            <!-- Admin Content (Hidden until login) -->
            <div id="adminContent" style="display: none;">
                <!-- Blocked Dates Management -->
                <div class="blocked-dates-container">
                    <h3 class="admin-header">
                        <i class="fas fa-ban"></i> Block Unavailable Dates
                    </h3>
                    <p style="margin-bottom: 20px; color: var(--off-white); opacity: 0.9;">
                        Block dates when you're unavailable (events, gigs, holidays).
                    </p>
                    
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label for="blockDate">
                            <i class="fas fa-calendar-times"></i> Select Date to Block
                        </label>
                        <input type="text" id="blockDate" placeholder="Select date to block" style="width: 100%;">
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="blockReason">
                            <i class="fas fa-comment-alt"></i> Reason (Optional)
                        </label>
                        <input type="text" id="blockReason" placeholder="e.g., Out of province gig, Holiday, etc.">
                    </div>
                    
                    <button class="btn btn-danger" id="blockDateBtn">
                        <i class="fas fa-ban"></i> Block This Date
                    </button>
                    
                    <div class="blocked-dates-container">
                        <h4 style="margin: 25px 0 15px; color: var(--error);">
                            <i class="fas fa-calendar-exclamation"></i> Currently Blocked Dates
                        </h4>
                        <div class="blocked-dates-grid" id="blockedDatesList">
                            <!-- Blocked dates will appear here -->
                        </div>
                    </div>
                </div>
                
                <!-- Email Templates -->
                <div class="email-templates">
                    <h3 class="admin-header">
                        <i class="fas fa-envelope"></i> Email Templates
                    </h3>
                    
                    <div class="email-template">
                        <h4>
                            <i class="fas fa-calendar-check"></i> Confirmation Email
                        </h4>
                        <div class="email-content" id="confirmationTemplate">
Dear [Client Name],

Your appointment with MacMatlox Studio has been confirmed!

üìÖ Date: [Appointment Date]
‚è∞ Time: [Appointment Time]
üìç Service: [Service Type]
‚è±Ô∏è Duration: [Duration]
üìù Reference: [Booking ID]

Please arrive 10 minutes before your scheduled time.
If you need to reschedule, please contact us at least 24 hours in advance.

Thank you for choosing MacMatlox Studio!
                        </div>
                        <button class="btn btn-secondary" onclick="editTemplate('confirmation')" style="margin-top: 15px;">
                            <i class="fas fa-edit"></i> Edit Template
                        </button>
                    </div>
                    
                    <div class="email-template">
                        <h4>
                            <i class="fas fa-bell"></i> Reminder Email
                        </h4>
                        <div class="email-content" id="reminderTemplate">
Hi [Client Name],

This is a friendly reminder about your upcoming appointment:

üìÖ Date: [Appointment Date]
‚è∞ Time: [Appointment Time]
üìç Service: [Service Type]

Reminder: Please bring any necessary equipment or materials.
Cancellation Policy: 24 hours notice required.

We look forward to seeing you!

Best regards,
MacMatlox Studio Team
                        </div>
                        <button class="btn btn-secondary" onclick="editTemplate('reminder')" style="margin-top: 15px;">
                            <i class="fas fa-edit"></i> Edit Template
                        </button>
                    </div>
                </div>
                
                <!-- Export & Reports -->
                <div style="margin-top: 30px; padding: 25px; background: var(--slate-medium); border-radius: var(--radius);">
                    <h4 style="color: var(--yellow); margin-bottom: 15px;">
                        <i class="fas fa-chart-bar"></i> Reports & Export
                    </h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <button class="btn btn-secondary" onclick="exportAppointments()">
                            <i class="fas fa-file-export"></i> Export Bookings
                        </button>
                        <button class="btn btn-secondary" onclick="viewCalendar()">
                            <i class="fas fa-calendar-alt"></i> View Full Calendar
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>MacMatlox Studio</h3>
                    <p>Premium internet, gaming, and studio services with professional booking system in Tembisa.</p>
                    <div class="contact-info" style="margin-top: 20px;">
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Tembisa, South Africa</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <span>+27 82 123 4567</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <span>bookings@macmatlox.com</span>
                        </div>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Home</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Services</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Book Appointment</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Pricing</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Contact Us</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Our Services</h3>
                    <ul class="footer-links">
                        <li><a href="#"><i class="fas fa-headphones"></i> Talent Management</a></li>
                        <li><a href="#"><i class="fas fa-wifi"></i> Internet Cafe</a></li>
                        <li><a href="#"><i class="fas fa-print"></i> Digital Solutions</a></li>
                        <li><a href="#"><i class="fas fa-gamepad"></i> Gaming Stations</a></li>
                        <li><a href="#"><i class="fas fa-coffee"></i> Refreshments</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Business Hours</h3>
                    <div style="color: var(--off-white); opacity: 0.8;">
                        <p><strong>Monday - Friday:</strong> 8:00 AM - 10:00 PM</p>
                        <p><strong>Saturday:</strong> 9:00 AM - 11:00 PM</p>
                        <p><strong>Sunday:</strong> 10:00 AM - 8:00 PM</p>
                        <p><strong>Holidays:</strong> Special Hours</p>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 MacMatlox Studio. All rights reserved. | Professional Booking System v1.0 | Powered by Web3Forms</p>
            </div>
        </div>
    </footer>
    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
        // Admin password (in real app, this would be stored securely on backend)
        const ADMIN_PASSWORD = "macmatlox2024";
        
        // Time slots data
        const timeSlots = [
            "09:00", "10:00", "11:00", "12:00", 
            "13:00", "14:00", "15:00", "16:00", "17:00"
        ];
        
        // Blocked dates (in real app, this would be stored in database)
        let blockedDates = [
            "2024-12-25", // Christmas
            "2024-12-31", // New Year's Eve
            "2025-01-01"  // New Year's Day
        ];
        
        // Current booking data
        let currentBooking = {
            date: null,
            time: null,
            service: 'talent-management',
            bookingId: null
        };
        
        // Admin panel functionality
        document.getElementById('adminAccessBtn').addEventListener('click', function() {
            document.getElementById('adminPanel').classList.add('active');
            this.style.display = 'none';
        });
        
        document.getElementById('closeAdminPanel').addEventListener('click', function() {
            document.getElementById('adminPanel').classList.remove('active');
            document.getElementById('adminAccessBtn').style.display = 'flex';
        });
        
        // Admin login
        document.getElementById('loginBtn').addEventListener('click', function() {
            const password = document.getElementById('adminPassword').value;
            if (password === ADMIN_PASSWORD) {
                document.getElementById('adminLogin').style.display = 'none';
                document.getElementById('adminContent').style.display = 'block';
                alert('Admin access granted!');
            } else {
                alert('Incorrect password. Please try again.');
            }
        });
        
        // Initialize Flatpickr for date selection
        const datePicker = flatpickr("#datePicker", {
            dateFormat: "Y-m-d",
            minDate: "today",
            inline: true,
            disable: blockedDates,
            onChange: function(selectedDates, dateStr) {
                loadAvailableTimeSlots(dateStr);
                updateSelectedDate(dateStr);
                updateHiddenFields();
            }
        });
        
        // Initialize Flatpickr for blocking dates
        const blockDatePicker = flatpickr("#blockDate", {
            dateFormat: "Y-m-d",
            minDate: "today",
            mode: "multiple",
            inline: false
        });
        
        // Initialize blocked dates display
        function initializeBlockedDates() {
            updateBlockedDatesList();
            updateCalendarDisabledDates();
        }
        
        // Load available time slots for selected date
        function loadAvailableTimeSlots(date) {
            const timeSlotsContainer = document.getElementById('timeSlots');
            timeSlotsContainer.innerHTML = '';
            
            // Check if date is blocked
            if (blockedDates.includes(date)) {
                timeSlotsContainer.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 30px; color: var(--error);">
                        <i class="fas fa-calendar-times fa-2x" style="margin-bottom: 15px;"></i>
                        <h4>Date Unavailable</h4>
                        <p>This date is blocked for appointments. Please select another date.</p>
                    </div>
                `;
                return;
            }
            
            timeSlots.forEach(slot => {
                const timeSlot = document.createElement('div');
                timeSlot.className = 'time-slot';
                timeSlot.textContent = slot;
                timeSlot.dataset.time = slot;
                
                // Mark some slots as booked (demo purposes)
                const isBooked = Math.random() > 0.8; // 20% chance of being booked
                if (isBooked) {
                    timeSlot.classList.add('disabled');
                    timeSlot.title = 'Already booked';
                }
                
                timeSlot.addEventListener('click', function() {
                    if (!this.classList.contains('disabled')) {
                        document.querySelectorAll('.time-slot').forEach(s => {
                            s.classList.remove('selected');
                        });
                        this.classList.add('selected');
                        updateSelectedTime(this.dataset.time);
                        updateHiddenFields();
                    }
                });
                
                timeSlotsContainer.appendChild(timeSlot);
            });
        }
        
        // Update selected date display
        function updateSelectedDate(date) {
            currentBooking.date = date;
            document.getElementById('confirmedDate').textContent = formatDate(date);
        }
        
        // Update selected time display
        function updateSelectedTime(time) {
            currentBooking.time = time;
            document.getElementById('confirmedTime').textContent = time;
        }
        
        // Service selection
        document.querySelectorAll('.service-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.service-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                this.classList.add('selected');
                
                const service = this.dataset.service;
                currentBooking.service = service;
                
                let serviceName = 'Talent Management';
                switch(service) {
                    case 'talent-management': serviceName = 'Talent Management'; break;
                    case 'internet-cafe': serviceName = 'Internet Cafe'; break;
                    case 'digital-solution': serviceName = 'Digital Solution'; break;
                }
                document.getElementById('confirmedService').textContent = serviceName;
                updateHiddenFields();
            });
        });
        
        // Update hidden form fields for Web3Forms
        function updateHiddenFields() {
            // Update hidden inputs
            document.getElementById('hiddenDate').value = currentBooking.date || '';
            document.getElementById('hiddenTime').value = currentBooking.time || '';
            document.getElementById('hiddenService').value = currentBooking.service || '';
            document.getElementById('hiddenBookingId').value = currentBooking.bookingId || '';
            
            // Update display in success message
            if (currentBooking.bookingId) {
                document.getElementById('confirmedBookingId').textContent = 'Booking ID: ' + currentBooking.bookingId;
            }
        }
        
        // Generate booking ID
        function generateBookingId() {
            const prefix = 'MAC-';
            const timestamp = Date.now().toString(36);
            const random = Math.random().toString(36).substr(2, 4).toUpperCase();
            return prefix + timestamp + random;
        }
        
        // Block date functionality
        document.getElementById('blockDateBtn').addEventListener('click', function() {
            const selectedDates = blockDatePicker.selectedDates;
            const reason = document.getElementById('blockReason').value;
            
            if (selectedDates.length === 0) {
                alert('Please select at least one date to block.');
                return;
            }
            
            selectedDates.forEach(date => {
                const dateStr = date.toISOString().split('T')[0];
                if (!blockedDates.includes(dateStr)) {
                    blockedDates.push(dateStr);
                }
            });
            
            updateBlockedDatesList();
            updateCalendarDisabledDates();
            blockDatePicker.clear();
            document.getElementById('blockReason').value = '';
            
            alert('Dates blocked successfully!');
        });
        
        // Update blocked dates list display
        function updateBlockedDatesList() {
            const blockedList = document.getElementById('blockedDatesList');
            blockedList.innerHTML = '';
            
            blockedDates.sort().forEach(date => {
                const dateDiv = document.createElement('div');
                dateDiv.className = 'blocked-date';
                dateDiv.innerHTML = `
                    <span>${formatDate(date)}</span>
                    <button class="remove-date" onclick="unblockDate('${date}')">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                blockedList.appendChild(dateDiv);
            });
        }
        
        // Unblock date
        function unblockDate(date) {
            blockedDates = blockedDates.filter(d => d !== date);
            updateBlockedDatesList();
            updateCalendarDisabledDates();
            loadAvailableTimeSlots(datePicker.selectedDates[0]?.toISOString().split('T')[0] || new Date().toISOString().split('T')[0]);
        }
        
        // Update calendar disabled dates
        function updateCalendarDisabledDates() {
            datePicker.set('disable', blockedDates);
        }
        
        // Format date for display
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
        }
        
        // Web3Forms Submission Handler
        document.getElementById('appointmentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const submitBtn = document.getElementById('submitBtn');
            const originalText = submitBtn.innerHTML;
            const resultDiv = document.getElementById('web3forms-result');
            
            // Validate selection
            const selectedDate = datePicker.selectedDates[0];
            const selectedTime = document.querySelector('.time-slot.selected');
            
            if (!selectedDate || !selectedTime) {
                alert('Please select both date and time for your appointment.');
                return;
            }
            
            // Generate booking ID
            currentBooking.bookingId = generateBookingId();
            updateHiddenFields();
            
            // Show loading
            submitBtn.innerHTML = '<span class="spinner"></span> Processing...';
            submitBtn.disabled = true;
            
            // Prepare form data
            const form = this;
            const formData = new FormData(form);
            
            // Add additional data to form
            formData.append('appointment_date', formatDate(currentBooking.date));
            formData.append('appointment_time', currentBooking.time);
            formData.append('booking_id', currentBooking.bookingId);
            
            // Determine service name
            let serviceName = 'Talent Management';
            switch(currentBooking.service) {
                case 'talent-management': serviceName = 'Talent Management'; break;
                case 'internet-cafe': serviceName = 'Internet Cafe'; break;
                case 'digital-solution': serviceName = 'Digital Solution'; break;
            }
            formData.append('service_type', serviceName);
            
            // Submit to Web3Forms
            fetch(form.action, {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // Show success message
                    document.getElementById('appointmentForm').style.display = 'none';
                    document.getElementById('successMessage').style.display = 'block';
                    
                    // Log success
                    console.log('Booking submitted successfully:', data);
                    
                    // Send confirmation email (simulated)
                    if (document.getElementById('emailConfirmation').checked) {
                        sendConfirmationEmail({
                            name: formData.get('full_name'),
                            email: formData.get('email'),
                            date: currentBooking.date,
                            time: currentBooking.time,
                            service: serviceName,
                            bookingId: currentBooking.bookingId,
                            duration: formData.get('duration'),
                            notes: formData.get('notes')
                        });
                    }
                } else {
                    // Show error message
                    resultDiv.innerHTML = `
                        <div class="error-message">
                            <i class="fas fa-exclamation-circle"></i>
                            <h4>Submission Failed</h4>
                            <p>${data.message || 'An error occurred. Please try again.'}</p>
                        </div>
                    `;
                    resultDiv.style.display = 'block';
                    
                    // Reset button
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                    
                    console.error('Form submission failed:', data);
                }
            })
            .catch(error => {
                // Show error message
                resultDiv.innerHTML = `
                    <div class="error-message">
                        <i class="fas fa-exclamation-circle"></i>
                        <h4>Network Error</h4>
                        <p>Unable to submit form. Please check your connection and try again.</p>
                    </div>
                `;
                resultDiv.style.display = 'block';
                
                // Reset button
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                
                console.error('Form submission error:', error);
            });
        });
        
        // Send confirmation email
        function sendConfirmationEmail(data) {
            // In real app, this would be handled by Web3Forms templates
            console.log('Confirmation email would be sent to:', data.email);
            console.log('Email data:', data);
        }
        
        // Edit template function
        function editTemplate(templateType) {
            const templateContent = document.getElementById(templateType + 'Template').textContent;
            const newContent = prompt('Edit email template:', templateContent);
            if (newContent !== null) {
                document.getElementById(templateType + 'Template').textContent = newContent;
                alert('Template updated successfully!');
            }
        }
        
        // Export appointments
        function exportAppointments() {
            alert('Export feature would generate CSV/Excel file of all appointments');
            // In real app, this would fetch data from Web3Forms API and create download
        }
        
        // View full calendar
        function viewCalendar() {
            alert('Opening full calendar view');
            // In real app, this would open a modal with full calendar
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeBlockedDates();
            loadAvailableTimeSlots(new Date().toISOString().split('T')[0]);
            
            // Set default selections
            document.querySelector('.service-option[data-service="talent-management"]').click();
            
            // Allow Enter key for admin login
            document.getElementById('adminPassword').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    document.getElementById('loginBtn').click();
                }
            });
            
            // Initialize current booking with today's date
            const today = new Date().toISOString().split('T')[0];
            updateSelectedDate(today);
            updateHiddenFields();
        });
    </script>
</body>
</html> 